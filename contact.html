<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="gambar/logo-3.png" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous" />

    <!-- my css -->
    <link rel="stylesheet" href="css/style.css" />

    <!-- ikon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />

    <title>Contact | Batam Fresh Fish</title>
    <!-- google maps -->
    <script type="text/javascript">
      function MM_swapImgRestore() {
        //v3.0
        var i,
          x,
          a = document.MM_sr;
        for (i = 0; a && i < a.length && (x = a[i]) && x.oSrc; i++) x.src = x.oSrc;
      }

      function MM_preloadImages() {
        //v3.0
        var d = document;
        if (d.images) {
          if (!d.MM_p) d.MM_p = new Array();
          var i,
            j = d.MM_p.length,
            a = MM_preloadImages.arguments;
          for (i = 0; i < a.length; i++)
            if (a[i].indexOf('#') != 0) {
              d.MM_p[j] = new Image();
              d.MM_p[j++].src = a[i];
            }
        }
      }

      function MM_findObj(n, d) {
        //v4.01
        var p, i, x;
        if (!d) d = document;
        if ((p = n.indexOf('?')) > 0 && parent.frames.length) {
          d = parent.frames[n.substring(p + 1)].document;
          n = n.substring(0, p);
        }
        if (!(x = d[n]) && d.all) x = d.all[n];
        for (i = 0; !x && i < d.forms.length; i++) x = d.forms[i][n];
        for (i = 0; !x && d.layers && i < d.layers.length; i++) x = MM_findObj(n, d.layers[i].document);
        if (!x && d.getElementById) x = d.getElementById(n);
        return x;
      }

      function MM_swapImage() {
        //v3.0
        var i,
          j = 0,
          x,
          a = MM_swapImage.arguments;
        document.MM_sr = new Array();
        for (i = 0; i < a.length - 2; i += 3)
          if ((x = MM_findObj(a[i])) != null) {
            document.MM_sr[j++] = x;
            if (!x.oSrc) x.oSrc = x.src;
            x.src = a[i + 2];
          }
      }
    </script>
    <style type="text/css">
      a:link {
        color: #a8c686;
        text-decoration: none;
      }

      a:visited {
        text-decoration: none;
        color: #fff;
      }

      a:hover {
        text-decoration: underline;
        color: #fc6;
      }

      a:active {
        text-decoration: none;
        color: #fc6;
      }

      #my-map {
        width: 500px;
        height: 400px;
        margin: 1em auto;
      }
    </style>
  </head>
  <body>
    <!-- membuat navigasi -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
      <div class="container">
        <a class="navbar-brand" href="index.html"><img src="gambar/logoo-1.png" width="60" height="40" /> Batam Fresh Fish</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="produk.html">Produk</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">About Us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contact.html">Contact Us</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- membuat kontak -->
    <div class="container">
      <div class="contact">
        <div class="PageMain text-center">
          <h1>Contact Us</h1>
          <br />
          <h3>
            fresh Fish Batam<br />
            kami pusatkan lokasinya ada 2 tempat ,1 dibarelang ,1 lagi di kota<br />
            kota Batam, Kepulauan riau<br />
          </h3>
          <h3>freshfish.gmail.com</h3>

          <div id="my-map"></div>
        </div>
        <script>
          var map;
          var marker;
          var infoWindow;

          function initMap() {
            var storeLocation = new google.maps.LatLng(1.12534, 104.050708);
            var popupContent = 'batam center<br>';
            popupContent += '29438 <br>';
            popupContent += 'Kota Batam, Kepulauan Riau';

            map = new google.maps.Map(document.getElementById('my-map'), {
              center: { lat: 1.12534, lng: 104.050708 },
              zoom: 14,
              mapTypeId: google.maps.MapTypeId.ROADMAP,
            });

            marker = new google.maps.Marker({
              position: storeLocation,
              map: map,
              title: 'Find us here (Capital records Tower for real)',
            });

            infoWindow = new google.maps.InfoWindow({
              content: popupContent,
              maxWidth: 270,
            });

            google.maps.event.addListener(marker, 'click', function () {
              infoWindow.open(map, marker);
            });
          }
        </script>
        <br />

        <!-- membuat tempat pesan -->
        <section id="contact" class="contact">
          <div class="container">
            <div class="row pt-4 mb-4"></div>

            <div class="row justify-content-center">
              <div class="col-lg-4">
                <div class="card text-white bg-success mb-3">
                  <div class="card-body">
                    <h5 class="card-title">Contact Us</h5>
                    <p class="card-text">Jika menemukan kendala di website kami bisa mengirimkan pesan disini</p>
                  </div>
                </div>
                <ul class="list-group">
                  <li class="list-group-item"><h1>Location</h1></li>
                  <li class="list-group-item">My office</li>
                  <li class="list-group-item">jl.pendawa asri,batu Aji,batam</li>
                  <li class="list-group-item">west sumatra, indonesia</li>
                </ul>
              </div>

              <div class="col-lg-6">
                <form name="kontak-Fresh-fish-batam">
                  <div class="form-group">
                    <label for="nama">Nama</label>
                    <input type="text" class="form-control" id="nama" name="nama" />
                  </div>
                  <div class="form-group">
                    <label for="exampleInputEmail1" for="email">Email</label>
                    <input type="email" class="form-control" id="email" name="email" aria-describedby="emailHelp" />
                    <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
                  </div>
                  <div class="form-group">
                    <label for="phone">No.Telepon</label>
                    <input type="phone" class="form-control" id="phone" name="nomor" />
                  </div>
                  <div class="form-group">
                    <label for="Pesan">Pesan</label>
                    <textarea name="pesan" id="pesan" class="form-control" name="pesan"></textarea>
                  </div>
                  <div class="form-group">
                    <button type="submit" class="btn btn-success btn-kirim">kirim</button>
                    <button class="btn btn-success d-none btn-loading" type="button" disabled>
                      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                      Loading...
                    </button>
                  </div>
                  <div class="alert alert-success alert-dismissible fade show d-none alert-saya" role="alert">
                    <strong>Terima kasih!</strong> pesan anda sudah diterima.
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>

    <!-- footer -->
    <footer class="mt-5">
      <div class="kecil">
        <h4 class="text-center">&copy; Copyright2021 || Batam Fresh Fish</h4>
      </div>
    </footer>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA3qkkGaHSYMLx3JJT5JcF8iHBz234N4no&callback=initMap" async defer></script>

    <!-- js peta -->
    <script src="js/contact.js"></script>

    <!-- google sheet -->
    <script>
      const scriptURL = 'https://script.google.com/macros/s/AKfycbytEZGWo5gtcdwsSCZXHJq1ZFFUe7tJ0jGTT4UXtmGq8eG5kV5GZ3Y74k2aKvLmR0Yp/exec';
      const form = document.forms['kontak-Fresh-fish-batam'];
      const btnKirim = document.querySelector('.btn-kirim');
      const btnLoading = document.querySelector('.btn-loading');
      const myAlert = document.querySelector('.alert-saya');

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        // ketika tombol submit di klik
        // tampilkan tombol loading, hilangkan tombol kirim
        btnLoading.classList.toggle('d-none');
        btnKirim.classList.toggle('d-none');

        fetch(scriptURL, { method: 'POST', body: new FormData(form) })
          .then((response) => {
            // tampilkan tombol kirim, hilangkan tombol loading
            btnLoading.classList.toggle('d-none');
            btnKirim.classList.toggle('d-none');
            // tampilkan alert
            myAlert.classList.toggle('d-none');
            //reset forum
            form.reset();
            console.log('Success!', response);
          })
          .catch((error) => console.error('Error!', error.message));
      });
    </script>
  </body>
</html>
